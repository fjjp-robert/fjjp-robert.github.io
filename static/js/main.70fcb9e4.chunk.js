(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,a,t){e.exports=t(44)},18:function(e,a,t){},24:function(e,a,t){},44:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),c=t(5),o=t.n(c),s=(t(18),t(3));t(24);var r=Object(s.b)(({onScreen:e,pokemons:a,nbClics:t})=>({onScreen:e,pokemons:a,nbClics:t}))(({onScreen:e,pokemons:a,nbClics:t})=>{return e&&e.id?a[e.id-1].isCatch?n.a.createElement("div",null,n.a.createElement("img",{src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/poke-ball.png",alt:"poke-ball"}),n.a.createElement("h3",{className:"screen-name"},"Captur\xe9 !")):n.a.createElement("div",null,n.a.createElement("img",{src:e.image,alt:e.name}),n.a.createElement("h3",{className:"screen-name"},e.name,e.isCatch?" Captur\xe9":"")):a.filter(e=>e.isCatch).length===a.length?n.a.createElement("div",null,n.a.createElement("h3",null,"Partie termin\xe9e !"),n.a.createElement("p",{className:"screen-ending-text"},"Pok\xe9dex rempli \xe0 100%",n.a.createElement("br",null),"Il vous a fallu ",t," tentatives")):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"screen-logo"},"GAME BOY"),n.a.createElement("div",{className:"screen-logo-shadow"},"GAME BOY"),n.a.createElement("div",{className:"nintendo-logo-screen"},"Nintendo\xae"))});var m=({handleClickA:e,handleClickB:a,handleClickStart:t,handleClickSelect:l,showPokemon:c,color:o})=>(console.log("couleur du state : "+o),n.a.createElement("div",null,n.a.createElement("div",{className:"gameboy"},n.a.createElement("div",{className:"body "+o},n.a.createElement("div",{className:"screen-box"},n.a.createElement("div",{className:"power-box"},n.a.createElement("div",{className:"power-light"}),n.a.createElement("div",{className:"power-status"},")))"),n.a.createElement("div",{className:"power-text"},"POWER")),n.a.createElement("div",{className:"screen-display"},n.a.createElement(r,null)),n.a.createElement("div",{className:"gameboy-color-logo"},n.a.createElement("span",{className:"logo-gb"},"GAME BOY "),n.a.createElement("span",{className:"logo-color"},n.a.createElement("span",{className:"logo-color-c"},"C"),n.a.createElement("span",{className:"logo-color-o1"},"O"),n.a.createElement("span",{className:"logo-color-l"},"L"),n.a.createElement("span",{className:"logo-color-o2"},"O"),n.a.createElement("span",{className:"logo-color-r"},"R")))),n.a.createElement("div",{className:"nintendo-logo-body"},"Nintendo"),n.a.createElement("div",{className:"button-box"},n.a.createElement("div",{className:"arrow-group"},n.a.createElement("div",{className:"up-box"},n.a.createElement("span",{className:"arrow up"})),n.a.createElement("div",{className:"right-box"},n.a.createElement("span",{className:"arrow right"})),n.a.createElement("div",{className:"down-box"},n.a.createElement("span",{className:"arrow down"})),n.a.createElement("div",{className:"center-box"},n.a.createElement("span",{className:"dent"},n.a.createElement("span",{className:"dent-highlight"}))),n.a.createElement("div",{className:"left-box"},n.a.createElement("span",{className:"arrow left"}))),n.a.createElement("div",{className:"ab-button a",onClick:()=>e()},n.a.createElement("span",{className:"button-text-height"},"A")),n.a.createElement("div",{className:"ab-button b",onClick:()=>a()},n.a.createElement("span",{className:"button-text-height"},"B"))),n.a.createElement("div",{className:"bottom-box"},n.a.createElement("div",{className:"pill-button button-select",onClick:()=>l()},n.a.createElement("label",{className:"select"},"SELECT")),n.a.createElement("div",{className:"pill-button button-start",onClick:()=>t()},n.a.createElement("label",{className:"start"},"START")),n.a.createElement("div",{className:"speaker"},n.a.createElement("div",{className:"row1"},n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"})),n.a.createElement("div",{className:"row2"},n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"})),n.a.createElement("div",{className:"row3"},n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"})),n.a.createElement("div",{className:"row4"},n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"})),n.a.createElement("div",{className:"row5"},n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"})),n.a.createElement("div",{className:"row6"},n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"})),n.a.createElement("div",{className:"row7"},n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"})),n.a.createElement("div",{className:"row8"},n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}),n.a.createElement("div",{className:"dot-hole"}))))))));var i=({pokemon:e})=>{const a=e.isCatch?"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/poke-ball.png":e.image;return n.a.createElement("li",{className:"pokemon-item"},n.a.createElement("img",{alt:e.name,src:a}),e.name)};var d=Object(s.b)(({nbClics:e,pokemons:a,pending:t})=>({nbClics:e,pokemons:a,pending:t}))(({nbClics:e,pokemons:a,pending:t})=>{const l=a.map(e=>n.a.createElement(i,{key:e.id,pokemon:e}));return n.a.createElement("div",{className:"list-container"},n.a.createElement("h2",null,"Pok\xe9balls lanc\xe9es:",n.a.createElement("br",null),e),n.a.createElement("h2",null,"Pokedex: ",n.a.createElement("br",null),a.filter(e=>e.isCatch).length," / ",a.length),n.a.createElement("ul",{className:"liste-pokemons"},l))});var E=t(11),h=t.n(E);var p=()=>n.a.createElement("div",{className:"loader"},n.a.createElement(h.a,{type:"Oval",color:"#038E9F",height:100,width:100}));var N=Object(s.b)(({nbPokemonsACharger:e,pending:a,pokemons:t,onScreen:l,color:n})=>({nbPokemonsACharger:e,pending:a,pokemons:t,onScreen:l,color:n}),e=>{const a=a=>e((e=>{const a=e.filter(e=>!e.isCatch),t=Math.floor(Math.random()*a.length),l=a[t];return console.log(t),console.log(l),e=>{e({type:"SHOW_POKEMON",onScreen:l})}})(a));return{handleClickA:a=>e((e=>{if(e){const a=Math.floor(255*Math.random());return console.log("tentative de capture : "+(a+e.captureRate)),e=>{e({type:"CATCH_POKEMON",random:a}),e({type:"CLICK"})}}return()=>{console.log("capture mais avec aucun pokemon affich\xe9")}})(a)),handleClickB:a,handleClickStart:a,handleClickSelect:a,handleColorChange:a=>e((e=>(console.log("color change "+e),a=>{a({type:"COLOR_CHANGE",color:e})}))(a)),fetchPokemons:a=>e((e=>{console.log(e);const a=[];for(let l=1;l<=e;l++)a.push("https://pokeapi.co/api/v2/pokemon-species/".concat(l));const t=a.map(e=>fetch(e));return e=>{e({type:"FETCH_POKEMON_PENDING"}),Promise.all(t).then(e=>Promise.all(e.map(e=>e.json()))).then(e=>e.map(e=>({id:e.id,name:e.names[4].name,captureRate:e.capture_rate,isCatch:!1,image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(e.id,".png")}))).then(a=>e((e=>({type:"FETCH_POKEMON_SUCCESS",pokemons:e}))(a)))}})(a))}})(({fetchPokemons:e,pending:a,nbPokemonsACharger:t,handleClickA:c,handleClickB:o,handleClickStart:s,handleClickSelect:r,handleColorChange:i,pokemons:E,onScreen:h,color:N})=>{if(Object(l.useEffect)(()=>{e(t)},[e,t]),a)return n.a.createElement(p,null);const u=["bleu","jaune"].map(e=>n.a.createElement("div",{key:e,className:"bloc-couleur"},n.a.createElement("input",{type:"radio",id:e,name:"color",value:e,onChange:()=>i(e),checked:e===N}),n.a.createElement("label",{htmlFor:e},e)));return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"choix-couleurs"},n.a.createElement("h5",null,"Couleur GB"),u),n.a.createElement(m,{handleClickA:()=>c(h),handleClickB:()=>o(E),handleClickStart:()=>s(E),handleClickSelect:()=>r(E),color:N}),n.a.createElement(d,null))}),u=t(4),v=t(12),b=t(2),C={nbPokemonsACharger:151,nbClics:0,pokemons:[],pending:!1,onScreen:{},color:"bleu"};var g=(e=C,a)=>{switch(a.type){case"CLICK":return Object(b.a)(Object(b.a)({},e),{},{nbClics:e.nbClics+1});case"COLOR_CHANGE":return Object(b.a)(Object(b.a)({},e),{},{color:a.color});case"FETCH_POKEMON_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{pokemons:a.pokemons,pending:!1});case"FETCH_POKEMON_PENDING":return Object(b.a)(Object(b.a)({},e),{},{pending:!0});case"SHOW_POKEMON":return Object(b.a)(Object(b.a)({},e),{},{onScreen:a.onScreen});case"CATCH_POKEMON":return Object(b.a)(Object(b.a)({},e),{},{pokemons:e.pokemons.map(t=>{if(t.id===e.onScreen.id){const e=a.random+t.captureRate>=255;return Object(b.a)(Object(b.a)({},t),{},{isCatch:t.isCatch||e})}return t})});default:return e}};const k=Object(u.c)(g,C,Object(u.a)(v.a));var O=e=>n.a.createElement(s.a,Object.assign({store:k},e));const w=document.getElementById("root");o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(O,null,n.a.createElement(N,null))),w)}},[[13,1,2]]]);
//# sourceMappingURL=main.70fcb9e4.chunk.js.map